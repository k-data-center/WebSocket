<!DOCTYPE html>
<html>
<head>
    <title>File Uploader</title>
    <style> body { background-color: #000; color: #0F0; font-family: monospace; display: flex; justify-content: flex-start; align-items: flex-start; height: 100vh; margin: 0; overflow-y: hidden; /* Hide the vertical scrollbar */ padding: 10px; }

    .prompt {
        color: orange; /* Change the color to orange */
    }

    .error {
        color: #F00;
    }

    .progress {
        color: #0F0;
    }

    .text {
        white-space: pre-wrap;
        font-size: 20px;
    }

    .log-entry {
        animation: slide-down 0.5s ease-in-out;
        opacity: 1;
    }

    @keyframes slide-down {
        0% {
            opacity: 0;
            transform: translateY(-40px);
        }
        100% {
            opacity: 1;
            transform: translateY(0);
        }
    }
	 #drop-zone {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0); /* Add a semi-transparent background */
        display: flex;
        justify-content: center;
        align-items: center;
        flex-direction: column;
    }
</style>
    <meta name="viewport" content="height=device-height" width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-title" content="Uploader">
</head>
<body>
    <input type="file" id="file-input" style="display:none;" multiple>
    <div class="text"></div>
    <div id="drop-zone"></div>

    <script>
        var ws = new WebSocket('ws://connect.iot-websocket.kro.kr:1241');  // WebSocket 서버의 주소를 입력하세요.

 document.body.addEventListener('click', function() {
        var message = prompt();
        
        if(message) { // 메시지가 비어있지 않은 경우에만 전송
            ws.send(message);
        }
    });
	
       ws.onopen = function() {
    console.log('서버와 연결되었습니다.');
};


        ws.onmessage = function(event) {
            var logEntry = document.createElement('div');
            logEntry.classList.add('log-entry');
            logEntry.textContent = event.data;

            document.querySelector('.text').appendChild(logEntry);
        };

        ws.onerror = function(error) {
            console.error('WebSocket 에러: ', error);
        };

        ws.onclose = function() {
            console.log('WebSocket 연결이 닫혔습니다.');
        };
		
		//
		(function() {
    var oldLog = console.log;
    var oldError = console.error;
    var oldWarn = console.warn;

    console.log = function(message) {
        oldLog.apply(console, arguments);
        logToPage('prompt', message);
    };

    console.error = function(message) {
        oldError.apply(console, arguments);
        logToPage('F00', message);
    };

    console.warn = function(message) {
        oldWarn.apply(console, arguments);
        logToPage('progress', message);
    };

    function logToPage(type, message) {
        var logEntry = document.createElement('div');
        logEntry.classList.add('log-entry', type);
        logEntry.textContent = message;

        document.querySelector('.text').appendChild(logEntry);
    }
})();

//
		
    </script>
</body>
</html>
