<!DOCTYPE html>
<html>
    <head>
        <title>WebSocket Test</title>
        <script>
            window.onload = function() {

                // 웹소켓 서버의 URL을 지정합니다.
                // 이 예제에서는 localhost의 8080 포트에 연결하도록 설정했습니다.
                var socket = new WebSocket("ws://connect.iot-websocket.kro.kr:1241");

                // 연결이 성공적으로 열릴 때 실행되는 이벤트입니다.
                socket.onopen = function(e) {
                    console.log("연결에 성공했습니다.");
                };

                // 서버로부터 메시지를 수신할 때 실행되는 이벤트입니다.
                socket.onmessage = function(e) {
                    console.log("서버로부터 메시지를 받았습니다: ", e.data);
                };

                // 연결이 닫힐 때 실행되는 이벤트입니다.
                socket.onclose = function(e) {
                    console.log("연결이 종료되었습니다.");
                };

                // 에러가 발생할 때 실행되는 이벤트입니다.
                socket.onerror = function(e) {
                    console.log("오류가 발생하였습니다: ", e);
                };

                // 메시지를 보내는 함수입니다.
                function sendMessage() {
                    var message = document.getElementById('message').value;
                    socket.send(message);
                    console.log("메시지를 보냈습니다: " + message);
                }

                // 메시지를 보내는 버튼에 이벤트 리스너를 설정합니다.
                document.getElementById('sendButton').addEventListener('click', sendMessage);
            }
        </script>
    </head>
    <body>
        <input type="text" id="message" placeholder="메시지를 입력하세요">
        <button id="sendButton">메시지 보내기</button>
    </body>
</html>
